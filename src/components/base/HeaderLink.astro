---
import type { HTMLAttributes } from "astro/types";

type Props = HTMLAttributes<"a"> & {
    isMobile?: boolean;
};

const { href, class: className, isMobile = false } = Astro.props;

const { pathname } = Astro.url;
const isActive = href === pathname || pathname.startsWith(`${href}/`);

const baseClasses = isMobile
    ? "block border-l-4 py-2 pl-3 pl-4 text-base font-medium sm:pl-5 sm:py-6"
    : "inline-flex items-center border-b-2 px-1 pt-1 text-md font-medium";
const activeClasses = isMobile
    ? "bg-blue-50 border-blue-500 text-blue-500 hover:text-blue-500"
    : "border-blue-500 text-gray-900 hover:text-gray-900";
const inactiveClasses = isMobile
    ? "border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"
    : "border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700";

const classes = [
    baseClasses,
    isActive ? activeClasses : inactiveClasses,
    className ?? "",
];
---

<a href={href} class:list={classes}>
    <slot />
</a>
